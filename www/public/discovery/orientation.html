<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *, *:before, *:after {
            box-sizing: border-box;
        }
        html,body {
            height: 100%;
            margin: 0;
        }
        #stage {
            height: 100%;
        }
        .modal {
            background: #feca1e;
            width: 50%;
        }
    </style>
</head>
<body>
    <div id="stage">
        <div class="modal">
            We need to access your accelerometer.
            <button id="accept">Okay</button>
        </div>
    </div>
    <script>
        function handleMotionEvent(event) {

            var x = event.accelerationIncludingGravity.x;
            var y = event.accelerationIncludingGravity.y;
            var z = event.accelerationIncludingGravity.z;

            console.log(x,y,z)
        }


        document.querySelector('#accept').addEventListener('click', function() {
            //DeviceOrientationEvent
            DeviceMotionEvent.requestPermission().then((status) => {
                if (status == 'granted') {
                    window.addEventListener("devicemotion", handleMotionEvent, true);
                    /*window.addEventListener('orientationchange', function (...args) {
                        console.log(args);
                    });*/
                }
            }).catch(err => {
                console.error(err)
            });
        });
        
       
    </script>
</body>
</html>